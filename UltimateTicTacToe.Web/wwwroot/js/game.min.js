$(document).ready(function(){function t(n,t){return function i(r){console.log(`Starting connection using ${signalR.TransportType[r]} transport`);var u=new signalR.HubConnection(n,{transport:r});return t&&typeof t=="function"&&t(u),u.start().then(function(){return u}).catch(function(n){return(console.log(`Cannot start the connection use ${signalR.TransportType[r]} transport. ${n.message}`),r!==signalR.TransportType.LongPolling)?i(r+1):Promise.reject(n)})}(signalR.TransportType.WebSockets)}if($("#playerName").val()===""||$("#playerName").val()==undefined){var n=$(".modal").modal();$("#newModalForm").validate({rules:{name:{required:!0,minlength:3},action:"required"},messages:{name:{required:"Please enter a name",minlength:"Your name must be at least 3 characters"},action:"Please provide some data"}})}t("/gamehub",function(n){n.on("broadcastMessage",function(n,t){$("#moveHistory").append(n+": "+t)});n.on("connectionmade",function(){console.log("Connection Established!!")})}).then(function(t){$(".tile").on("click",function(){t.invoke("send",n,$("#playerName"))})}).catch(n=>{console.error(n.message)})});
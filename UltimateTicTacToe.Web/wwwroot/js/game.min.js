$(document).ready(function(){var n,t;if($("#playerName").val()===""||$("#playerName").val()==undefined){n=$(".modal").modal();$("#newModalForm").validate({rules:{name:{required:!0,minlength:3},action:"required"},messages:{name:{required:"Please enter a name",minlength:"Your name must be at least 3 characters"},action:"Please provide some data"}});n.on("shown.bs.modal",function(){$("#name").focus()});$("#playerName").keypress(function(n){n.keyCode==13&&$("#btnSave").click()})}else{t=$("#playerName").val();n("/gamehub",function(n){n.on("broadcastMessage",function(n,t){$("#moveHistory").append(n+": "+t)});n.on("consoleLog",function(n,t){var i={Name:$("#playerName").val(),ConnectionId:t};console.log(n);$("#playerObjectString").val(JSON.stringify(i))});n.on("newGameInit",function(){n.invoke("newgame",$("#playerObjectString").val())});n.on("newGameComplete",function(n){$("#inviteDiv").removeClass("hidden");$("#inviteCode").html("Hi "+t+', you\'re flyin solo right now. Get yourself a wingman (or wingwoman) and send them this link to join up: <span id="gameURL">http://localhost:65350/Game?id='+n+"<\/span>");$("#gameCode").html("Game code: "+n)})}).then(function(){}).catch(n=>{console.error(n.message)});function n(n,t){return function i(r){console.log(`Starting connection using ${signalR.TransportType[r]} transport`);var u=new signalR.HubConnection(n,{transport:r});return t&&typeof t=="function"&&t(u),u.start().then(function(){return u}).catch(function(n){return(console.log(`Cannot start the connection use ${signalR.TransportType[r]} transport. ${n.message}`),r!==signalR.TransportType.LongPolling)?i(r+1):Promise.reject(n)})}(signalR.TransportType.WebSockets)}}});
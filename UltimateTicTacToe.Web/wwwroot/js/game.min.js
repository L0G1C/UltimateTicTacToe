$(document).ready(function(){var t,n;if($("#playerName").val()===""||$("#playerName").val()==undefined){t=$(".modal").modal();$("#newModalForm").validate({rules:{name:{required:!0,minlength:3},action:"required"},messages:{name:{required:"Please enter a name",minlength:"Your name must be at least 3 characters"},action:"Please provide some data"}});t.on("shown.bs.modal",function(){$("#name").focus()});$("#playerName").keypress(function(n){n.keyCode==13&&$("#btnSave").click()})}else{n=$("#playerName").val();t("/gamehub",function(t){t.on("broadcastMessage",function(n,t){$("#moveHistory").append(n+": "+t)});t.on("consoleLog",function(n){console.log(n)});t.on("newGameInit",function(){t.invoke("newgame",n)});t.on("newGameComplete",function(t){$("#inviteDiv").removeClass("hidden");$("#inviteCode").html("Hi "+n+', you\'re flyin solo right now. Get yourself a wingman (or wingwoman) and send them this link to join up: <span id="gameURL">http://localhost:65350/Game?id='+t+"<\/span>");$("#gameCode").html("Game code: "+t)})}).then(function(n){$(".tile").on("click",function(){n.invoke("send",$("#playerName"))})}).catch(n=>{console.error(n.message)});function t(n,t){return function i(r){console.log(`Starting connection using ${signalR.TransportType[r]} transport`);var u=new signalR.HubConnection(n,{transport:r});return t&&typeof t=="function"&&t(u),u.start().then(function(){return u}).catch(function(n){return(console.log(`Cannot start the connection use ${signalR.TransportType[r]} transport. ${n.message}`),r!==signalR.TransportType.LongPolling)?i(r+1):Promise.reject(n)})}(signalR.TransportType.WebSockets)}}});